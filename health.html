<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" type="text/css" href="./health.css" />
    <title>健康宝</title>
</head>

<body>
    <div class="he-bg">
        <p class="he-code-status">
            <span id="time1">10:23</span>
        </p>
        <p class="he-code-day">
            <span id="time2">2022年10月09日</span>
        </p>
        <p class="he-code-time">
            <span id="time3">10:23:25</span>
        </p>
        <p id="light" class="he-code-light">
            <span></span>
        </p>
        <p class="he-head">
            <img src="./head.jpeg" height="190px" width="190px" />
        </p>
        <p class="he-code-tip">
            <span>扫码未见异常</span>
        </p>
        <p class="he-name">
            <span>于*</span>
        </p>
        <p class="he-id">
            <span>34**************75</span>
        </p>
        <p class="he-code-check">
            <span id="time4">10-09 10:55</span>
        </p>
    </div>
    <script>
        function update () {
            var date = new Date()
            var utc8DiffMinutes = date.getTimezoneOffset() + 480
            date.setMinutes(date.getMinutes() + utc8DiffMinutes)

            var shifen = zeroNum(date.getHours()) + ':' + zeroNum(date.getMinutes())
            var timeString = shifen + ':' + zeroNum(date.getSeconds())
            var dateString = date.getFullYear() + '年' + zeroNum((date.getMonth() + 1)) + '月' + zeroNum(date.getDate()) + '日'

            document.getElementById("time1").innerHTML = shifen
            document.getElementById("time2").innerHTML = dateString
            document.getElementById("time3").innerHTML = timeString
            document.getElementById("time4").innerHTML = zeroNum((date.getMonth() + 1)) + '-' + zeroNum(date.getDate()) + ' ' + shifen
        }

        function zeroNum (num) {
            return ('0' + num).slice(-2)
        }

        function queryURLParams (url) {
            let pattern = /(\w+)=(\w+)/ig; //定义正则表达式
            let parames = {}; // 定义参数对象
            url.replace(pattern, ($, $1, $2) => {
                parames[$1] = $2;
            });
            return parames;
        }
        window.onload = function () {
            update()
            setInterval(function () {
                var light = document.getElementById("light")
                if (light.style.display === 'none') {
                    light.style.display = 'block'
                } else {
                    light.style.display = 'none'
                }
            }, 0.65 * 1000)
        }
    </script>
</body>

</html>