<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" href="./vue/favicon.ico">
    <link rel="stylesheet" href="./reset.css" type="text/css" />
    <title>攀岩志 - 时间在流逝</title>
    <meta name="Keywords" content="攀岩志,团队,开发,热爱,软件,创业,业余,设计,时间,开发,app,小程序,erp系统,oa系统,客户端,网站">
    <meta name="Description" content="攀岩志(团队)由一群热爱开发的小伙伴组队而成，愿意利用业余时间承接些软件开发的项目工程，以此助力广大有志者使用软件的形式来管理或推广自己公司产品与业务。">
    <script>
        var _hmt = _hmt || [];
        (function () {
            var hm = document.createElement("script");
            hm.src = "https://hm.baidu.com/hm.js?1b1814c2eafdecc146e4a8bf234c7e12";
            var s = document.getElementsByTagName("script")[0];
            s.parentNode.insertBefore(hm, s);
        })();
    </script>
    <style>
        body {
            padding: 10px;
            position: relative;
        }

        .time {
            text-align: center;
            color: #999999;
        }

        #link {
            color: #999999;
        }

        .time li {
            margin-bottom: 10px;
            font-size: 14px;
        }
    </style>
</head>

<body>
    <ul class="time">
        <li id="title">
            <a id="link" target="_blank">时间在流逝 · 开心健康</a>
        </li>
        <li id="age"></li>
        <li id="time"></li>
        <li id="date"></li>
        <li id="week"></li>
        <li id="footer"></li>
    </ul>
    <script>
        function update () {
            var date = new Date()
            var utc8DiffMinutes = date.getTimezoneOffset() + 480
            date.setMinutes(date.getMinutes() + utc8DiffMinutes)

            var timeString = zeroNum(date.getHours()) + ':' + zeroNum(date.getMinutes()) + ':' + zeroNum(date.getSeconds())
            var dateString = date.getFullYear() + '年' + zeroNum((date.getMonth() + 1)) + '月' + zeroNum(date.getDate()) + '日'
            var weekList = ['日', '一', '二', '三', '四', '五', '六']
            var weekString = '星期' + weekList[date.getDay()]

            document.getElementById("time").innerHTML = timeString
            document.getElementById("date").innerHTML = dateString
            document.getElementById("week").innerHTML = weekString
        }

        function zeroNum (num) {
            return ('0' + num).slice(-2)
        }

        function queryURLParams (url) {
            let href = decodeURI(url)
            let query = href.substring(href.indexOf('?') + 1);
            let param = query.split("&");
            let obj = {}
            for (var i = 0; i < param.length; i++) {
                let per = param[i].split("=");
                obj[per[0]] = per[1]
            }
            return obj;
        }
        window.onload = function () {
            update()
            setInterval("update()", 1000)
            const params = queryURLParams(location.href)
            if (params.title) {
                document.getElementById("title").innerHTML = params.title == '0' ? '' : params.title
            }
            if (params.footer) {
                document.getElementById("footer").innerHTML = params.footer
            }
            if (params.age) {
                var age = 100 - parseInt(params.age)
                document.getElementById("age").innerHTML = '若你能活到100岁<br />那么你还剩约' + age + '年'
            }
            if (params.link) {
                document.getElementById("link").href = params.link
                document.getElementById("link").style['text-decoration'] = 'underline'
                document.getElementById("link").style.color = 'rgb(166, 190, 239)'
            }
            if (params.size) {
                document.body.style.fontSize = params.size + 'px'
            }
        }
    </script>
</body>

</html>